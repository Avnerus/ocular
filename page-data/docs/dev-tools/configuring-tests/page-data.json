{"componentChunkName":"component---node-modules-ocular-gatsby-src-templates-doc-page-markdown-jsx","path":"/docs/dev-tools/configuring-tests","webpackCompilationHash":"11593817ca3cf2f744f9","result":{"data":{"docBySlug":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"configuring-tests"},"children":[{"type":"element","tagName":"a","properties":{"href":"#configuring-tests","ariaLabel":"configuring tests permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Configuring Tests"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ocular-dev-tools automatically adds capability run tests in Node.js and live browser and headless-browser."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are some things that may need to be configured:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"running-es6-code-in-tests"},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-es6-code-in-tests","ariaLabel":"running es6 code in tests permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Running ES6+ code in tests"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"using-importexport"},"children":[{"type":"element","tagName":"a","properties":{"href":"#using-importexport","ariaLabel":"using importexport permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Using import/export"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first thing you usually need to address is to sing import/export in Node.js requires taking extra steps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While Node 12 will soon enable "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":"/"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" by default, you will typically want to at least add support for "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":"/"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" under Node.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Two tested options are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"require('reify')"}]},{"type":"text","value":" - This makes Node.js understand "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":"/"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":", but otherwise does not transpile your code. This is a great option if you want to test your source code directly, either because you want to debug untranspiled code, or you want to ensure that your code runs untranspiled to ensure you don't use unsupported syntax. You can simply require "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"reify"}]},{"type":"text","value":" at the entry point of your test. Note that you cannot use import in the same file, only inside files required after requiring reify."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"// test/index.js\nrequire('reify');\n\n// start to require your tests\nrequire('./test1.js');"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"require('@babel/register')"}]},{"type":"text","value":" - This option runs the babel transpiler. This is ideal if you want to use non-standard syntax such as stage-x babel plugins, flow etc."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can import "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@bable/register"}]},{"type":"text","value":", and that is how babel config is accessed in dev mode. Unless that module is imported, no transpilation is done on your source."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You may also manually set the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"BABEL_ENV"}]},{"type":"text","value":" environment variable when running your test command to control which config to use."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"BABEL_ENV=es6 yarn test"}]}]}]}],"data":{"quirksMode":false}},"timeToRead":1,"excerpt":"Configuring Tests ocular-dev-tools automatically adds capability run tests in Node.js and live browser and headless-browser. There are someâ€¦","frontmatter":{"title":"Configuring Tests","cover":"cover","category":"docs","tags":["default"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"relativeLinks":{"../README.md":"/docs","../docs/README.md":"/docs","../../docs":"/docs","docs":"/docs","../faq.md":"/docs/faq","../docs/faq.md":"/docs/faq","../faq":"/docs/faq","docs/faq":"/docs/faq","../get-started.md":"/docs/get-started","../docs/get-started.md":"/docs/get-started","../get-started":"/docs/get-started","docs/get-started":"/docs/get-started","command-line-interface.md":"/docs/dev-tools/command-line-interface","../docs/dev-tools/command-line-interface.md":"/docs/dev-tools/command-line-interface","command-line-interface":"/docs/dev-tools/command-line-interface","docs/dev-tools/command-line-interface":"/docs/dev-tools/command-line-interface","README.md":"/docs/dev-tools","../docs/dev-tools/README.md":"/docs/dev-tools","../dev-tools":"/docs/dev-tools","docs/dev-tools":"/docs/dev-tools","aliases.md":"/docs/dev-tools/aliases","../docs/dev-tools/aliases.md":"/docs/dev-tools/aliases","aliases":"/docs/dev-tools/aliases","docs/dev-tools/aliases":"/docs/dev-tools/aliases","configuring-tests.md":"/docs/dev-tools/configuring-tests","../docs/dev-tools/configuring-tests.md":"/docs/dev-tools/configuring-tests","configuring-tests":"/docs/dev-tools/configuring-tests","docs/dev-tools/configuring-tests":"/docs/dev-tools/configuring-tests","webpack-config.md":"/docs/dev-tools/webpack-config","../docs/dev-tools/webpack-config.md":"/docs/dev-tools/webpack-config","webpack-config":"/docs/dev-tools/webpack-config","docs/dev-tools/webpack-config":"/docs/dev-tools/webpack-config","cli/ocular-bootstrap.md":"/docs/dev-tools/cli/ocular-bootstrap","../docs/dev-tools/cli/ocular-bootstrap.md":"/docs/dev-tools/cli/ocular-bootstrap","cli/ocular-bootstrap":"/docs/dev-tools/cli/ocular-bootstrap","docs/dev-tools/cli/ocular-bootstrap":"/docs/dev-tools/cli/ocular-bootstrap","../whats-new.md":"/docs/whats-new","../docs/whats-new.md":"/docs/whats-new","../whats-new":"/docs/whats-new","docs/whats-new":"/docs/whats-new","cli/ocular-build.md":"/docs/dev-tools/cli/ocular-build","../docs/dev-tools/cli/ocular-build.md":"/docs/dev-tools/cli/ocular-build","cli/ocular-build":"/docs/dev-tools/cli/ocular-build","docs/dev-tools/cli/ocular-build":"/docs/dev-tools/cli/ocular-build","cli/ocular-clean.md":"/docs/dev-tools/cli/ocular-clean","../docs/dev-tools/cli/ocular-clean.md":"/docs/dev-tools/cli/ocular-clean","cli/ocular-clean":"/docs/dev-tools/cli/ocular-clean","docs/dev-tools/cli/ocular-clean":"/docs/dev-tools/cli/ocular-clean","cli/ocular-lint.md":"/docs/dev-tools/cli/ocular-lint","../docs/dev-tools/cli/ocular-lint.md":"/docs/dev-tools/cli/ocular-lint","cli/ocular-lint":"/docs/dev-tools/cli/ocular-lint","docs/dev-tools/cli/ocular-lint":"/docs/dev-tools/cli/ocular-lint","cli/ocular-metrics.md":"/docs/dev-tools/cli/ocular-metrics","../docs/dev-tools/cli/ocular-metrics.md":"/docs/dev-tools/cli/ocular-metrics","cli/ocular-metrics":"/docs/dev-tools/cli/ocular-metrics","docs/dev-tools/cli/ocular-metrics":"/docs/dev-tools/cli/ocular-metrics","cli/ocular-publish.md":"/docs/dev-tools/cli/ocular-publish","../docs/dev-tools/cli/ocular-publish.md":"/docs/dev-tools/cli/ocular-publish","cli/ocular-publish":"/docs/dev-tools/cli/ocular-publish","docs/dev-tools/cli/ocular-publish":"/docs/dev-tools/cli/ocular-publish","cli/ocular-test.md":"/docs/dev-tools/cli/ocular-test","../docs/dev-tools/cli/ocular-test.md":"/docs/dev-tools/cli/ocular-test","cli/ocular-test":"/docs/dev-tools/cli/ocular-test","docs/dev-tools/cli/ocular-test":"/docs/dev-tools/cli/ocular-test","../gatsby/api-reference/generated-pages.md":"/docs/gatsby/api-reference/generated-pages","../docs/gatsby/api-reference/generated-pages.md":"/docs/gatsby/api-reference/generated-pages","../gatsby/api-reference/generated-pages":"/docs/gatsby/api-reference/generated-pages","docs/gatsby/api-reference/generated-pages":"/docs/gatsby/api-reference/generated-pages","../gatsby/api-reference/ocular-config.md":"/docs/gatsby/api-reference/ocular-config","../docs/gatsby/api-reference/ocular-config.md":"/docs/gatsby/api-reference/ocular-config","../gatsby/api-reference/ocular-config":"/docs/gatsby/api-reference/ocular-config","docs/gatsby/api-reference/ocular-config":"/docs/gatsby/api-reference/ocular-config","../gatsby/creating-content/interactive-examples.md":"/docs/gatsby/creating-content/interactive-examples","../docs/gatsby/creating-content/interactive-examples.md":"/docs/gatsby/creating-content/interactive-examples","../gatsby/creating-content/interactive-examples":"/docs/gatsby/creating-content/interactive-examples","docs/gatsby/creating-content/interactive-examples":"/docs/gatsby/creating-content/interactive-examples","../gatsby/creating-content/writing-documentation.md":"/docs/gatsby/creating-content/writing-documentation","../docs/gatsby/creating-content/writing-documentation.md":"/docs/gatsby/creating-content/writing-documentation","../gatsby/creating-content/writing-documentation":"/docs/gatsby/creating-content/writing-documentation","docs/gatsby/creating-content/writing-documentation":"/docs/gatsby/creating-content/writing-documentation","../gatsby/developer-guide/README.md":"/docs/gatsby/developer-guide","../docs/gatsby/developer-guide/README.md":"/docs/gatsby/developer-guide","../gatsby/developer-guide":"/docs/gatsby/developer-guide","docs/gatsby/developer-guide":"/docs/gatsby/developer-guide","../gatsby/developer-guide/configuring.md":"/docs/gatsby/developer-guide/configuring","../docs/gatsby/developer-guide/configuring.md":"/docs/gatsby/developer-guide/configuring","../gatsby/developer-guide/configuring":"/docs/gatsby/developer-guide/configuring","docs/gatsby/developer-guide/configuring":"/docs/gatsby/developer-guide/configuring","../gatsby/developer-guide/deploying.md":"/docs/gatsby/developer-guide/deploying","../docs/gatsby/developer-guide/deploying.md":"/docs/gatsby/developer-guide/deploying","../gatsby/developer-guide/deploying":"/docs/gatsby/developer-guide/deploying","docs/gatsby/developer-guide/deploying":"/docs/gatsby/developer-guide/deploying","../gatsby/developer-guide/debugging.md":"/docs/gatsby/developer-guide/debugging","../docs/gatsby/developer-guide/debugging.md":"/docs/gatsby/developer-guide/debugging","../gatsby/developer-guide/debugging":"/docs/gatsby/developer-guide/debugging","docs/gatsby/developer-guide/debugging":"/docs/gatsby/developer-guide/debugging"},"slug":"docs/dev-tools/configuring-tests","toc":"docs"}}}